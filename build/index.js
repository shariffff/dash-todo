(()=>{"use strict";var e={745:(e,t,n)=>{var l=n(850);t.s=l.createRoot,l.hydrateRoot},850:e=>{e.exports=window.ReactDOM}},t={};function n(l){var a=t[l];if(void 0!==a)return a.exports;var o=t[l]={exports:{}};return e[l](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const e=window.wp.element;var t=n(745);const l=window.wp.apiFetch;var a=n.n(l);const o=window.wp.components;function r(t){let{title:n,id:l,status:r,deleted:c}=t;const s=(0,e.useRef)(!1),[d,i]=(0,e.useState)("publish"===r),m=d?"publish":"pending";return(0,e.useEffect)((()=>{s.current?a()({path:`/wp/v2/todo/${l}`,method:"PUT",data:{status:m}}).then((()=>{})).catch((e=>console.log(e?.message))):s.current=!0}),[d,i]),(0,e.createElement)(o.__experimentalHStack,{alignment:"left",className:"single--todo"},(0,e.createElement)(o.CheckboxControl,{label:n,checked:d,onChange:i,className:d?"completed":"incomplete"}),(0,e.createElement)(o.Button,{style:{height:20},className:"delete",onClick:()=>{a()({path:`/wp/v2/todo/${l}`,method:"DELETE"}).then((()=>{c(!0)})).catch((e=>console.log(e?.message)))}},(0,e.createElement)(o.Icon,{icon:"trash",size:18,style:{color:"gray"}})))}function c(t){let{items:n,deleted:l}=t;return(0,e.createElement)(o.Card,null,(0,e.createElement)(o.CardBody,null,(0,e.createElement)(o.__experimentalVStack,null,n.map((t=>{let{id:n,title:a,status:o}=t;return(0,e.createElement)(r,{key:n,title:a.rendered,id:n,status:o,deleted:l})})))))}function s(t){let{created:n}=t;const[l,r]=(0,e.useState)("");return(0,e.createElement)(o.Card,null,(0,e.createElement)(o.CardBody,null,(0,e.createElement)(o.Flex,null,(0,e.createElement)(o.FlexBlock,null,(0,e.createElement)(o.TextControl,{label:"Todo item",onChange:e=>r(e),value:l})),(0,e.createElement)(o.Button,{isSmall:!0,style:{height:30,marginTop:14},variant:"secondary",onClick:()=>{a()({path:"/wp/v2/todo",method:"POST",data:{title:l,status:"pending"}}).then((e=>{r(""),n(!0)})).catch((e=>console.log(e?.message)))},disabled:Boolean(!l)},"Add"))))}function d(){return(0,e.createElement)(o.Card,null,(0,e.createElement)(o.CardBody,null,(0,e.createElement)(o.__experimentalVStack,null,(0,e.createElement)(o.Spinner,null),(0,e.createElement)(o.Spinner,null))))}(0,t.s)(document.getElementById("app")).render((0,e.createElement)((function(){const[t,n]=(0,e.useState)([]),[l,o]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!0);return(0,e.useEffect)((()=>{a()({path:"/wp/v2/todo?status=pending,publish&per_page=100&orderby=id"}).then((e=>{n(e),i(!1)})).catch((e=>console.error(e?.message)))}),[l,o,r,i]),(0,e.createElement)("div",{className:"dash-todo-layout"},(0,e.createElement)("div",{className:"dash-todo-header"},(0,e.createElement)("div",{className:"dash-todo-title-section"},(0,e.createElement)("h1",null,"Todo"))),(0,e.createElement)("div",{className:"dash-todo-layout-body hide-if-no-js"},(0,e.createElement)(s,{created:()=>{o(!l)}}),r?(0,e.createElement)(d,null):(0,e.createElement)(c,{items:t,deleted:()=>{o(!l)}})))}),null))})()})();